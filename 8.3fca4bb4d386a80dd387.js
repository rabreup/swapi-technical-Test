"use strict";(self.webpackChunkswapi_technical_test=self.webpackChunkswapi_technical_test||[]).push([[8],{9008:(I,m,r)=>{r.r(m),r.d(m,{StarshipsModule:()=>F});var u=r(8583),l=r(15),t=r(7716),d=r(2340),f=r(1841);let g=(()=>{class s{constructor(e){this.http=e}getSearch(e){return this.http.get(`${d.N.API_URL}/starships/${e}/`)}getStarships(){return this.http.get(`${d.N.API_URL}/starships/`)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(f.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var p=r(3738),h=r(1095);let S=(()=>{class s{transform(e,...i){let n=parseInt(e);return n>1e3?"large":n<100?"small":"normal"}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=t.Yjl({name:"length",type:s,pure:!0}),s})(),_=(()=>{class s{constructor(e,i,n){this.route=e,this.serviceStarships=i,this.router=n,this.detailsId=this.route.snapshot.params.id}ngOnInit(){this.loadDetails(this.detailsId)}loadDetails(e){this.serviceStarships.getSearch(e).subscribe(i=>{this.details=i})}goBack(){this.router.navigate(["starships"])}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(l.gz),t.Y36(g),t.Y36(l.F0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-starships-details"]],decls:23,vars:10,consts:[[1,"detalis-card"],[1,"items-start"],[1,"mt-2"],[1,"font-bold","mt-5"],["align","end"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"mat-card-content"),t.TgZ(2,"div",1),t.TgZ(3,"p",2),t._uU(4),t.qZA(),t.TgZ(5,"p",3),t._uU(6),t.qZA(),t.TgZ(7,"p",2),t._uU(8),t.qZA(),t.TgZ(9,"p",2),t._uU(10),t.qZA(),t.TgZ(11,"p",2),t._uU(12),t.qZA(),t.TgZ(13,"p",2),t._uU(14),t.qZA(),t.TgZ(15,"p",2),t._uU(16),t.qZA(),t.TgZ(17,"p",2),t._uU(18),t.ALo(19,"length"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"mat-card-actions",4),t.TgZ(21,"button",5),t.NdJ("click",function(){return i.goBack()}),t._uU(22,"Back"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" Name : ",i.details.name," "),t.xp6(2),t.hij(" Model : ",i.details.model," "),t.xp6(2),t.hij(" MGLT : ",i.details.MGLT," "),t.xp6(2),t.hij(" Consumables : ",i.details.consumables," "),t.xp6(2),t.hij(" Crew : ",i.details.crew," "),t.xp6(2),t.hij(" Starship lass : ",i.details.starship_class," "),t.xp6(2),t.hij(" Passengers : ",i.details.passengers," "),t.xp6(2),t.hij(" Length : ",t.lcZ(19,8,i.details.length)," "))},directives:[p.a8,p.dn,p.hq,h.lW],pipes:[S],styles:[""]}),s})();var C=r(887),o=r(2789);function Z(s,a){1&s&&(t.TgZ(0,"th",10),t._uU(1," Nombre "),t.qZA())}function v(s,a){if(1&s&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&s){const e=a.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function b(s,a){1&s&&(t.TgZ(0,"th",10),t._uU(1," Model "),t.qZA())}function A(s,a){if(1&s&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&s){const e=a.$implicit;t.xp6(1),t.hij(" ",e.model," ")}}function y(s,a){1&s&&(t.TgZ(0,"th",10),t._uU(1," Starship class "),t.qZA())}function x(s,a){if(1&s&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&s){const e=a.$implicit;t.xp6(1),t.hij(" ",e.starship_class," ")}}function w(s,a){1&s&&(t.TgZ(0,"th",10),t._uU(1," Crew "),t.qZA())}function N(s,a){if(1&s&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&s){const e=a.$implicit;t.xp6(1),t.hij(" ",e.crew," ")}}function U(s,a){1&s&&(t.TgZ(0,"th",10),t._uU(1," Manage "),t.qZA())}function Y(s,a){if(1&s){const e=t.EpF();t.TgZ(0,"td",11),t.TgZ(1,"button",12),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().detailsClick.emit(c)}),t.TgZ(2,"span"),t._uU(3,"details"),t.qZA(),t.qZA(),t.qZA()}}function D(s,a){1&s&&t._UZ(0,"tr",13)}function k(s,a){1&s&&t._UZ(0,"tr",14)}let j=(()=>{class s{constructor(){this.detailsClick=new t.vpe,this.displayedColumns=["name","model","starship_class","crew","manage"]}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-starships-table"]],inputs:{starships:"starships"},outputs:{detailsClick:"detailsClick"},decls:18,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","model"],["matColumnDef","starship_class"],["matColumnDef","crew"],["matColumnDef","manage"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","matTooltip","Details",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,Z,2,0,"th",2),t.YNc(3,v,2,1,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,b,2,0,"th",2),t.YNc(6,A,2,1,"td",3),t.BQk(),t.ynx(7,5),t.YNc(8,y,2,0,"th",2),t.YNc(9,x,2,1,"td",3),t.BQk(),t.ynx(10,6),t.YNc(11,w,2,0,"th",2),t.YNc(12,N,2,1,"td",3),t.BQk(),t.ynx(13,7),t.YNc(14,U,2,0,"th",2),t.YNc(15,Y,4,0,"td",3),t.BQk(),t.YNc(16,D,1,0,"tr",8),t.YNc(17,k,1,0,"tr",9),t.qZA()),2&e&&(t.Q6J("dataSource",i.starships),t.xp6(16),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns))},directives:[o.BZ,o.w1,o.fO,o.Dz,o.as,o.nj,o.ge,o.ev,h.lW,o.XQ,o.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),s})();function q(s,a){if(1&s){const e=t.EpF();t.TgZ(0,"app-starships-table",1),t.NdJ("detailsClick",function(n){return t.CHM(e),t.oxw().details(n)}),t.qZA()}if(2&s){const e=t.oxw();t.Q6J("starships",e.starships$)}}const L=[{path:"",component:(()=>{class s{constructor(e,i,n,c){this.serviceStarships=e,this.router=i,this.route=n,this.lastSearchService=c,this.loadPlanets(),this.sucription=this.lastSearchService.filterSubject.subscribe(T=>{"starships"===window.location.href.split("/")[3]&&this.search(T)})}ngOnInit(){}loadPlanets(){this.serviceStarships.getStarships().subscribe(e=>{this.starships$=e.results,localStorage.setItem("starships",JSON.stringify(this.starships$))})}details(e){const i=e.url.split("/");this.router.navigate(["details",i[i.length-2]],{relativeTo:this.route})}search(e){let i=localStorage.getItem("starships");i=JSON.parse(i),e=""!==e?e.toLocaleLowerCase():"",this.starships$=i.filter(n=>n.name.toLocaleLowerCase().indexOf(e)>-1||n.model.toLocaleLowerCase().indexOf(e)>-1)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(g),t.Y36(l.F0),t.Y36(l.gz),t.Y36(C.p))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-starships"]],decls:2,vars:1,consts:[[3,"starships","detailsClick",4,"ngIf"],[3,"starships","detailsClick"]],template:function(e,i){1&e&&(t.ynx(0),t.YNc(1,q,1,1,"app-starships-table",0),t.BQk()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.starships$.length))},directives:[u.O5,j],styles:[""]}),s})()},{path:"details/:id",component:_}];let M=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[l.Bz.forChild(L)],l.Bz]}),s})();var B=r(6627);let F=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[u.ez,M,o.p0,B.Ps,p.QW,f.JF,h.ot]]}),s})()}}]);