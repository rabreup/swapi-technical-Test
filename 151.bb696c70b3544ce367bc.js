"use strict";(self.webpackChunkswapi_technical_test=self.webpackChunkswapi_technical_test||[]).push([[151],{9151:(J,p,c)=>{c.r(p),c.d(p,{VehiclesModule:()=>M});var u=c(8583),o=c(15),e=c(7716),d=c(2340),f=c(1841);let v=(()=>{class t{constructor(l){this.http=l}getSearch(l){return this.http.get(`${d.N.API_URL}/vehicles/${l}/`)}getVehicles(){return this.http.get(`${d.N.API_URL}/vehicles/`)}}return t.\u0275fac=function(l){return new(l||t)(e.LFG(f.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var r=c(3738),m=c(1095);let _=(()=>{class t{constructor(l,s,a){this.route=l,this.serviceVehicles=s,this.router=a,this.detailsId=this.route.snapshot.params.id}ngOnInit(){this.loadDetails(this.detailsId)}loadDetails(l){this.serviceVehicles.getSearch(l).subscribe(s=>{this.details=s})}goBack(){this.router.navigate(["planets"])}}return t.\u0275fac=function(l){return new(l||t)(e.Y36(o.gz),e.Y36(v),e.Y36(o.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-vehicles-details"]],decls:20,vars:7,consts:[[1,"detalis-card"],[1,"items-start"],[1,"mt-2"],[1,"font-bold","mt-5"],["align","end"],["mat-button","",3,"click"]],template:function(l,s){1&l&&(e.TgZ(0,"mat-card",0),e.TgZ(1,"mat-card-content"),e.TgZ(2,"div",1),e.TgZ(3,"p",2),e._uU(4),e.qZA(),e.TgZ(5,"p",3),e._uU(6),e.qZA(),e.TgZ(7,"p",2),e._uU(8),e.qZA(),e.TgZ(9,"p",2),e._uU(10),e.qZA(),e.TgZ(11,"p",2),e._uU(12),e.qZA(),e.TgZ(13,"p",2),e._uU(14),e.qZA(),e.TgZ(15,"p",2),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"mat-card-actions",4),e.TgZ(18,"button",5),e.NdJ("click",function(){return s.goBack()}),e._uU(19,"Back"),e.qZA(),e.qZA(),e.qZA()),2&l&&(e.xp6(4),e.hij(" Name : ",s.details.name," "),e.xp6(2),e.hij(" Model : ",s.details.model," "),e.xp6(2),e.hij(" Vehicle class : ",s.details.vehicle_class," "),e.xp6(2),e.hij(" Crew : ",s.details.crew," "),e.xp6(2),e.hij(" Manufacturer : ",s.details.manufacturer," "),e.xp6(2),e.hij(" Passengers : ",s.details.passengers," "),e.xp6(2),e.hij(" Consumables : ",s.details.consumables," "))},directives:[r.a8,r.dn,r.hq,m.lW],styles:[""]}),t})();var C=c(887),n=c(2789);function g(t,i){1&t&&(e.TgZ(0,"th",10),e._uU(1," Nombre "),e.qZA())}function Z(t,i){if(1&t&&(e.TgZ(0,"td",11),e._uU(1),e.qZA()),2&t){const l=i.$implicit;e.xp6(1),e.hij(" ",l.name," ")}}function V(t,i){1&t&&(e.TgZ(0,"th",10),e._uU(1," Model "),e.qZA())}function b(t,i){if(1&t&&(e.TgZ(0,"td",11),e._uU(1),e.qZA()),2&t){const l=i.$implicit;e.xp6(1),e.hij(" ",l.model," ")}}function A(t,i){1&t&&(e.TgZ(0,"th",10),e._uU(1," Vehicle class "),e.qZA())}function x(t,i){if(1&t&&(e.TgZ(0,"td",11),e._uU(1),e.qZA()),2&t){const l=i.$implicit;e.xp6(1),e.hij(" ",l.vehicle_class," ")}}function y(t,i){1&t&&(e.TgZ(0,"th",10),e._uU(1," Manufacturer "),e.qZA())}function N(t,i){if(1&t&&(e.TgZ(0,"td",11),e._uU(1),e.qZA()),2&t){const l=i.$implicit;e.xp6(1),e.hij(" ",l.manufacturer," ")}}function U(t,i){1&t&&(e.TgZ(0,"th",10),e._uU(1," Manage "),e.qZA())}function D(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"td",11),e.TgZ(1,"button",12),e.NdJ("click",function(){const h=e.CHM(l).$implicit;return e.oxw().detailsClick.emit(h)}),e.TgZ(2,"span"),e._uU(3,"details"),e.qZA(),e.qZA(),e.qZA()}}function Y(t,i){1&t&&e._UZ(0,"tr",13)}function w(t,i){1&t&&e._UZ(0,"tr",14)}let k=(()=>{class t{constructor(){this.detailsClick=new e.vpe,this.displayedColumns=["name","model","vehicle_class","manufacturer","manage"]}ngOnInit(){}}return t.\u0275fac=function(l){return new(l||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-vehicles-table"]],inputs:{vehicles:"vehicles"},outputs:{detailsClick:"detailsClick"},decls:18,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","model"],["matColumnDef","vehicle_class"],["matColumnDef","manufacturer"],["matColumnDef","manage"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","matTooltip","Details",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(l,s){1&l&&(e.TgZ(0,"table",0),e.ynx(1,1),e.YNc(2,g,2,0,"th",2),e.YNc(3,Z,2,1,"td",3),e.BQk(),e.ynx(4,4),e.YNc(5,V,2,0,"th",2),e.YNc(6,b,2,1,"td",3),e.BQk(),e.ynx(7,5),e.YNc(8,A,2,0,"th",2),e.YNc(9,x,2,1,"td",3),e.BQk(),e.ynx(10,6),e.YNc(11,y,2,0,"th",2),e.YNc(12,N,2,1,"td",3),e.BQk(),e.ynx(13,7),e.YNc(14,U,2,0,"th",2),e.YNc(15,D,4,0,"td",3),e.BQk(),e.YNc(16,Y,1,0,"tr",8),e.YNc(17,w,1,0,"tr",9),e.qZA()),2&l&&(e.Q6J("dataSource",s.vehicles),e.xp6(16),e.Q6J("matHeaderRowDef",s.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",s.displayedColumns))},directives:[n.BZ,n.w1,n.fO,n.Dz,n.as,n.nj,n.ge,n.ev,m.lW,n.XQ,n.Gk],styles:[""]}),t})();function S(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"app-vehicles-table",1),e.NdJ("detailsClick",function(a){return e.CHM(l),e.oxw().details(a)}),e.qZA()}if(2&t){const l=e.oxw();e.Q6J("vehicles",l.vehicles$)}}const q=[{path:"",component:(()=>{class t{constructor(l,s,a,h){this.serviceVehicles=l,this.router=s,this.route=a,this.lastSearchService=h,this.loadPlanets(),this.sucription=this.lastSearchService.filterSubject.subscribe(T=>{"vehicles"===window.location.href.split("/")[3]&&this.search(T)})}ngOnInit(){}loadPlanets(){this.serviceVehicles.getVehicles().subscribe(l=>{this.vehicles$=l.results,localStorage.setItem("vehicles",JSON.stringify(this.vehicles$))})}details(l){const s=l.url.split("/");this.router.navigate(["details",s[s.length-2]],{relativeTo:this.route})}search(l){let s=localStorage.getItem("vehicles");s=JSON.parse(s),l=""!==l?l.toLocaleLowerCase():"",this.vehicles$=s.filter(a=>a.name.toLocaleLowerCase().indexOf(l)>-1||a.model.toLocaleLowerCase().indexOf(l)>-1)}}return t.\u0275fac=function(l){return new(l||t)(e.Y36(v),e.Y36(o.F0),e.Y36(o.gz),e.Y36(C.p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-vehicles"]],decls:2,vars:1,consts:[[3,"vehicles","detailsClick",4,"ngIf"],[3,"vehicles","detailsClick"]],template:function(l,s){1&l&&(e.ynx(0),e.YNc(1,S,1,1,"app-vehicles-table",0),e.BQk()),2&l&&(e.xp6(1),e.Q6J("ngIf",s.vehicles$.length))},directives:[u.O5,k],styles:[""]}),t})()},{path:"details/:id",component:_}];let j=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[o.Bz.forChild(q)],o.Bz]}),t})();var B=c(6627);let M=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez,j,n.p0,B.Ps,r.QW,f.JF,m.ot]]}),t})()}}]);