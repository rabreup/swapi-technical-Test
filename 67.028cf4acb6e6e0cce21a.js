"use strict";(self.webpackChunkswapi_technical_test=self.webpackChunkswapi_technical_test||[]).push([[67],{8067:(F,u,a)=>{a.r(u),a.d(u,{SpeciesModule:()=>$});var d=a(8583),l=a(15),e=a(7716),h=a(2340),f=a(1841);let g=(()=>{class t{constructor(i){this.http=i}getSearch(i){return this.http.get(`${h.N.API_URL}/species/${i}/`)}getSpecies(){return this.http.get(`${h.N.API_URL}/species/`)}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(f.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var T=a(3493),r=a(3738),m=a(1095);let C=(()=>{class t{constructor(i,n,o,p){this.route=i,this.serviceSpecies=n,this.servicePlanet=o,this.router=p,this.detailsId=this.route.snapshot.params.id}ngOnInit(){this.loadDetails(this.detailsId)}loadDetails(i){this.serviceSpecies.getSearch(i).subscribe(n=>{this.details=n,this.servicePlanet.gethomeworld(this.details.homeworld).subscribe(o=>{this.details.homeworld=o})})}goBack(){this.router.navigate(["species"])}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(l.gz),e.Y36(g),e.Y36(T.z),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-species-details"]],decls:18,vars:6,consts:[[1,"detalis-card"],[1,"items-start"],[1,"mt-2"],[1,"font-bold","mt-5"],["align","end"],["mat-button","",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"mat-card",0),e.TgZ(1,"mat-card-content"),e.TgZ(2,"div",1),e.TgZ(3,"p",2),e._uU(4),e.qZA(),e.TgZ(5,"p",3),e._uU(6),e.qZA(),e.TgZ(7,"p",2),e._uU(8),e.qZA(),e.TgZ(9,"p",2),e._uU(10),e.qZA(),e.TgZ(11,"p",2),e._uU(12),e.qZA(),e.TgZ(13,"p",2),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"mat-card-actions",4),e.TgZ(16,"button",5),e.NdJ("click",function(){return n.goBack()}),e._uU(17,"Back"),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.hij(" Name : ",n.details.name," "),e.xp6(2),e.hij(" Language : ",n.details.language," "),e.xp6(2),e.hij(" Designation : ",n.details.designation," "),e.xp6(2),e.hij(" Classification : ",n.details.classification," "),e.xp6(2),e.hij(" Average Lifespan : ",n.details.average_lifespan," "),e.xp6(2),e.hij(" Homeworld : ",n.details.homeworld.name," "))},directives:[r.a8,r.dn,r.hq,m.lW],styles:[""]}),t})();var _=a(887),c=a(2789);function Z(t,s){1&t&&(e.TgZ(0,"th",10),e._uU(1," Nombre "),e.qZA())}function v(t,s){if(1&t&&(e.TgZ(0,"td",11),e._uU(1),e.qZA()),2&t){const i=s.$implicit;e.xp6(1),e.hij(" ",i.name," ")}}function b(t,s){1&t&&(e.TgZ(0,"th",10),e._uU(1," Classification "),e.qZA())}function A(t,s){if(1&t&&(e.TgZ(0,"td",11),e._uU(1),e.qZA()),2&t){const i=s.$implicit;e.xp6(1),e.hij(" ",i.classification," ")}}function x(t,s){1&t&&(e.TgZ(0,"th",10),e._uU(1," Designation "),e.qZA())}function y(t,s){if(1&t&&(e.TgZ(0,"td",11),e._uU(1),e.qZA()),2&t){const i=s.$implicit;e.xp6(1),e.hij(" ",i.designation," ")}}function D(t,s){1&t&&(e.TgZ(0,"th",10),e._uU(1," Language "),e.qZA())}function N(t,s){if(1&t&&(e.TgZ(0,"td",11),e._uU(1),e.qZA()),2&t){const i=s.$implicit;e.xp6(1),e.hij(" ",i.language," ")}}function w(t,s){1&t&&(e.TgZ(0,"th",10),e._uU(1," Manage "),e.qZA())}function Y(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"td",11),e.TgZ(1,"button",12),e.NdJ("click",function(){const p=e.CHM(i).$implicit;return e.oxw().detailsClick.emit(p)}),e.TgZ(2,"span"),e._uU(3,"details"),e.qZA(),e.qZA(),e.qZA()}}function U(t,s){1&t&&e._UZ(0,"tr",13)}function k(t,s){1&t&&e._UZ(0,"tr",14)}let j=(()=>{class t{constructor(){this.detailsClick=new e.vpe,this.displayedColumns=["name","classification","designation","language","manage"]}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-species-table"]],inputs:{species:"species"},outputs:{detailsClick:"detailsClick"},decls:18,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","classification"],["matColumnDef","designation"],["matColumnDef","language"],["matColumnDef","manage"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","matTooltip","Details",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(e.TgZ(0,"table",0),e.ynx(1,1),e.YNc(2,Z,2,0,"th",2),e.YNc(3,v,2,1,"td",3),e.BQk(),e.ynx(4,4),e.YNc(5,b,2,0,"th",2),e.YNc(6,A,2,1,"td",3),e.BQk(),e.ynx(7,5),e.YNc(8,x,2,0,"th",2),e.YNc(9,y,2,1,"td",3),e.BQk(),e.ynx(10,6),e.YNc(11,D,2,0,"th",2),e.YNc(12,N,2,1,"td",3),e.BQk(),e.ynx(13,7),e.YNc(14,w,2,0,"th",2),e.YNc(15,Y,4,0,"td",3),e.BQk(),e.YNc(16,U,1,0,"tr",8),e.YNc(17,k,1,0,"tr",9),e.qZA()),2&i&&(e.Q6J("dataSource",n.species),e.xp6(16),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns))},directives:[c.BZ,c.w1,c.fO,c.Dz,c.as,c.nj,c.ge,c.ev,m.lW,c.XQ,c.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})();function q(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"app-species-table",1),e.NdJ("detailsClick",function(o){return e.CHM(i),e.oxw().details(o)}),e.qZA()}if(2&t){const i=e.oxw();e.Q6J("species",i.species$)}}const B=[{path:"",component:(()=>{class t{constructor(i,n,o,p){this.serviceSpecies=i,this.router=n,this.route=o,this.lastSearchService=p,this.loadPlanets(),this.sucription=this.lastSearchService.filterSubject.subscribe(S=>{"species"===window.location.href.split("/")[3]&&this.search(S)})}ngOnInit(){}loadPlanets(){this.serviceSpecies.getSpecies().subscribe(i=>{this.species$=i.results,localStorage.setItem("species",JSON.stringify(this.species$))})}details(i){const n=i.url.split("/");this.router.navigate(["details",n[n.length-2]],{relativeTo:this.route})}search(i){let n=localStorage.getItem("species");n=JSON.parse(n),i=""!==i?i.toLocaleLowerCase():"",this.species$=n.filter(o=>o.name.toLocaleLowerCase().indexOf(i)>-1)}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(g),e.Y36(l.F0),e.Y36(l.gz),e.Y36(_.p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-species"]],decls:2,vars:1,consts:[[3,"species","detailsClick",4,"ngIf"],[3,"species","detailsClick"]],template:function(i,n){1&i&&(e.ynx(0),e.YNc(1,q,1,1,"app-species-table",0),e.BQk()),2&i&&(e.xp6(1),e.Q6J("ngIf",n.species$.length))},directives:[d.O5,j],styles:[""]}),t})()},{path:"details/:id",component:C}];let J=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.Bz.forChild(B)],l.Bz]}),t})();var Q=a(6627);let $=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,J,c.p0,Q.Ps,r.QW,f.JF,m.ot]]}),t})()}}]);