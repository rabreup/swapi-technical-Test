"use strict";(self.webpackChunkswapi_technical_test=self.webpackChunkswapi_technical_test||[]).push([[300],{2300:(J,u,s)=>{s.r(u),s.d(u,{PlanetsModule:()=>B});var d=s(8583),c=s(15),t=s(7716),h=s(3493),p=s(3738),r=s(1095);let T=(()=>{class e{constructor(n,l,i){this.route=n,this.servicePlanets=l,this.router=i,this.detailsId=this.route.snapshot.params.id}ngOnInit(){this.loadDetails(this.detailsId)}loadDetails(n){this.servicePlanets.getSearch(n).subscribe(l=>{this.details=l})}goBack(){this.router.navigate(["planets"])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.gz),t.Y36(h.z),t.Y36(c.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-planets-details"]],decls:20,vars:7,consts:[[1,"detalis-card"],[1,"items-start"],[1,"mt-2"],[1,"font-bold","mt-5"],["align","end"],["mat-button","",3,"click"]],template:function(n,l){1&n&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"mat-card-content"),t.TgZ(2,"div",1),t.TgZ(3,"p",2),t._uU(4),t.qZA(),t.TgZ(5,"p",3),t._uU(6),t.qZA(),t.TgZ(7,"p",2),t._uU(8),t.qZA(),t.TgZ(9,"p",2),t._uU(10),t.qZA(),t.TgZ(11,"p",2),t._uU(12),t.qZA(),t.TgZ(13,"p",2),t._uU(14),t.qZA(),t.TgZ(15,"p",2),t._uU(16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"mat-card-actions",4),t.TgZ(18,"button",5),t.NdJ("click",function(){return l.goBack()}),t._uU(19,"Back"),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(4),t.hij(" Name : ",l.details.name," "),t.xp6(2),t.hij(" Climate : ",l.details.climate," "),t.xp6(2),t.hij(" Diameter : ",l.details.diameter," "),t.xp6(2),t.hij(" Population : ",l.details.population," "),t.xp6(2),t.hij(" Surface_water : ",l.details.surface_water," "),t.xp6(2),t.hij(" Terrain : ",l.details.terrain," "),t.xp6(2),t.hij(" Rotation period : ",l.details.rotation_period," "))},directives:[p.a8,p.dn,p.hq,r.lW],styles:[""]}),e})();var C=s(887),o=s(2789);function _(e,a){1&e&&(t.TgZ(0,"th",10),t._uU(1," Nombre "),t.qZA())}function Z(e,a){if(1&e&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function g(e,a){1&e&&(t.TgZ(0,"th",10),t._uU(1," Diameter "),t.qZA())}function P(e,a){if(1&e&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.diameter," ")}}function b(e,a){1&e&&(t.TgZ(0,"th",10),t._uU(1," Population "),t.qZA())}function v(e,a){if(1&e&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.population," ")}}function A(e,a){1&e&&(t.TgZ(0,"th",10),t._uU(1," Climate "),t.qZA())}function x(e,a){if(1&e&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.climate," ")}}function y(e,a){1&e&&(t.TgZ(0,"th",10),t._uU(1," Manage "),t.qZA())}function D(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"td",11),t.TgZ(1,"button",12),t.NdJ("click",function(){const m=t.CHM(n).$implicit;return t.oxw().detailsClick.emit(m)}),t.TgZ(2,"span"),t._uU(3,"details"),t.qZA(),t.qZA(),t.qZA()}}function N(e,a){1&e&&t._UZ(0,"tr",13)}function U(e,a){1&e&&t._UZ(0,"tr",14)}let Y=(()=>{class e{constructor(){this.detailsClick=new t.vpe,this.displayedColumns=["name","diameter","population","climate","manage"]}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-planets-table"]],inputs:{planets:"planets"},outputs:{detailsClick:"detailsClick"},decls:18,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","diameter"],["matColumnDef","population"],["matColumnDef","climate"],["matColumnDef","manage"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","matTooltip","Details",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,l){1&n&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,_,2,0,"th",2),t.YNc(3,Z,2,1,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,g,2,0,"th",2),t.YNc(6,P,2,1,"td",3),t.BQk(),t.ynx(7,5),t.YNc(8,b,2,0,"th",2),t.YNc(9,v,2,1,"td",3),t.BQk(),t.ynx(10,6),t.YNc(11,A,2,0,"th",2),t.YNc(12,x,2,1,"td",3),t.BQk(),t.ynx(13,7),t.YNc(14,y,2,0,"th",2),t.YNc(15,D,4,0,"td",3),t.BQk(),t.YNc(16,N,1,0,"tr",8),t.YNc(17,U,1,0,"tr",9),t.qZA()),2&n&&(t.Q6J("dataSource",l.planets),t.xp6(16),t.Q6J("matHeaderRowDef",l.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",l.displayedColumns))},directives:[o.BZ,o.w1,o.fO,o.Dz,o.as,o.nj,o.ge,o.ev,r.lW,o.XQ,o.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),e})();function w(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"app-planets-table",1),t.NdJ("detailsClick",function(i){return t.CHM(n),t.oxw().details(i)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("planets",n.planets$)}}const k=[{path:"",component:(()=>{class e{constructor(n,l,i,m){this.servicePlanets=n,this.router=l,this.route=i,this.lastSearchService=m,this.loadPlanets(),this.sucription=this.lastSearchService.filterSubject.subscribe(f=>{"planets"===window.location.href.split("/")[3]&&this.search(f)})}ngOnInit(){}loadPlanets(){this.servicePlanets.getPlanets().subscribe(n=>{this.planets$=n.results,localStorage.setItem("planets",JSON.stringify(this.planets$))})}details(n){const l=n.url.split("/");this.router.navigate(["details",l[l.length-2]],{relativeTo:this.route})}search(n){let l=localStorage.getItem("planets");l=JSON.parse(l),n=""!==n?n.toLocaleLowerCase():"",this.planets$=l.filter(i=>i.name.toLocaleLowerCase().indexOf(n)>-1)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(h.z),t.Y36(c.F0),t.Y36(c.gz),t.Y36(C.p))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-planets"]],decls:2,vars:1,consts:[[3,"planets","detailsClick",4,"ngIf"],[3,"planets","detailsClick"]],template:function(n,l){1&n&&(t.ynx(0),t.YNc(1,w,1,1,"app-planets-table",0),t.BQk()),2&n&&(t.xp6(1),t.Q6J("ngIf",l.planets$.length))},directives:[d.O5,Y],styles:[""]}),e})()},{path:"details/:id",component:T}];let q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.Bz.forChild(k)],c.Bz]}),e})();var j=s(6627),S=s(1841);let B=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.ez,q,o.p0,j.Ps,p.QW,S.JF,r.ot]]}),e})()}}]);